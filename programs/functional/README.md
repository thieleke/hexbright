A basic 3-input program:

Press the button for less than 300 ms to cycle between 5 brightnesses, from low to high.

Press the button for 300-700 ms to enter blinky mode.

Hold the button for over 700 ms to turn off, regardless of current mode.
